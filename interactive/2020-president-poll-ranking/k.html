
<!DOCTYPE html>
<html lang="zh_tw">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/echarts@4.8.0/dist/echarts.min.js"></script>
  <title>2020 臺灣總統民調單位評級</title>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Radiat.io" type="application/atom+xml">
</head>
<body>
  <div id="chart" style="width: 100%; height: 750px;"></div>

  <script type="text/javascript">
    const sigma_upper = [];
    const sigma_lower = [];
    const raw = [{"name":"投票結果","type":"scatter","data":[["2020-01-11",38.38383838383839]]},{"name":"綠黨","type":"scatter","data":[["2019-12-30",25.0],["2019-12-24",23.45679012345679],["2019-12-17",24.691358024691358],["2019-12-10",25.333333333333336],["2019-12-03",21.794871794871796],["2019-11-26",32.53012048192772],["2019-11-20",32.46753246753247],["2019-11-11",35.80246913580247],["2019-11-11",40.74074074074074],["2019-11-05",32.926829268292686],["2019-11-05",38.74999999999999],["2019-10-29",36.58536585365854],["2019-10-29",42.10526315789473],["2019-10-23",38.96103896103896],["2019-10-08",38.2716049382716],["2019-10-01",39.02439024390244],["2019-09-24",41.46341463414634],["2019-09-17",39.50617283950617],["2019-09-04",41.25],["2019-09-13",42.16867469879518],["2019-08-07",45.67901234567901],["2019-08-28",41.9753086419753],["2019-08-22",43.037974683544306],["2019-08-15",44.303797468354425],["2019-07-31",46.913580246913575],["2019-07-02",42.04545454545455],["2019-07-24",47.5609756097561],["2019-07-17",46.15384615384615],["2019-06-20",41.02564102564102]]},{"name":"TVBS","type":"scatter","data":[["2019-12-29",35.80246913580246],["2019-12-14",35.632183908045974],["2019-12-04",33.33333333333333],["2019-11-29",36.470588235294116],["2019-11-15",41.11111111111111],["2019-11-15",40.22988505747126],["2019-11-07",40.21739130434782],["2019-11-07",44.943820224719104],["2019-10-23",42.857142857142854],["2019-09-27",43.18181818181818],["2019-09-03",45.55555555555556],["2019-09-12",46.15384615384615],["2019-08-09",51.61290322580645],["2019-08-19",47.19101123595506],["2019-07-18",52.17391304347826],["2019-06-24",41.860465116279066],["2019-05-01",60.46511627906976],["2019-05-10",56.81818181818182],["2019-04-26",60.71428571428571],["2019-02-20",68.35443037974683]]},{"name":"蘋果日報","type":"scatter","data":[["2019-12-29",21.73913043478261],["2019-12-22",20.8955223880597],["2019-12-15",24.28571428571429],["2019-12-08",21.12676056338028],["2019-12-01",25.0],["2019-11-24",31.428571428571434],["2019-11-17",33.33333333333333],["2019-11-10",33.78378378378379],["2019-11-10",37.68115942028986],["2019-11-03",33.78378378378379],["2019-11-03",37.3134328358209],["2019-10-27",40.298507462686565],["2019-10-20",35.483870967741936],["2019-10-14",37.87878787878788],["2019-10-06",39.70588235294119],["2019-09-29",42.25352112676056],["2019-09-22",42.10526315789473],["2019-09-09",42.30769230769231],["2019-09-02",41.891891891891895],["2019-08-05",48.61111111111111],["2019-08-26",45.833333333333336],["2019-08-19",44.73684210526316],["2019-08-12",47.94520547945205],["2019-07-09",55.263157894736835],["2019-07-30",51.38888888888889],["2019-07-02",55.99999999999999],["2019-07-23",50.66666666666667],["2019-07-16",57.74647887323944],["2019-06-25",48.717948717948715],["2019-06-18",50.0],["2019-05-27",56.25],["2019-05-21",51.28205128205129],["2019-05-11",53.16455696202531],["2019-02-16",61.17647058823529]]},{"name":"兩岸政策協會","type":"scatter","data":[["2019-12-28",26.190476190476193],["2019-12-15",21.686746987951807],["2019-11-24",32.94117647058823],["2019-11-08",32.94117647058824],["2019-11-08",37.64705882352941],["2019-10-20",40.476190476190474],["2019-09-12",39.75903614457831],["2019-08-16",39.743589743589745],["2019-07-16",46.42857142857142]]},{"name":"台灣基進","type":"scatter","data":[["2019-12-28",22.72727272727273]]},{"name":"震撼世代傳媒","type":"scatter","data":[["2019-12-27",24.324324324324323],["2019-12-13",23.287671232876715],["2019-11-25",30.48780487804878]]},{"name":"ETtoday新聞雲","type":"scatter","data":[["2019-12-27",33.33333333333333],["2019-12-08",31.16883116883117],["2019-11-25",36.144578313253014],["2019-11-07",39.02439024390244],["2019-11-07",42.30769230769231],["2019-10-27",39.473684210526315],["2019-10-27",44.0],["2019-09-29",43.42105263157895],["2019-09-12",38.57142857142858],["2019-08-29",43.66197183098592],["2019-08-10",46.376811594202906],["2019-07-31",49.35064935064935],["2019-07-19",46.75324675324675],["2019-05-30",54.054054054054056],["2019-05-16",56.57894736842105]]},{"name":"美麗島電子報","type":"scatter","data":[["2019-12-26",25.641025641025646],["2019-12-17",28.767123287671232],["2019-12-06",21.62162162162162],["2019-11-26",29.11392405063291],["2019-11-12",35.064935064935064],["2019-11-12",38.74999999999999],["2019-10-25",33.766233766233775],["2019-10-25",38.96103896103896],["2019-10-15",34.146341463414636],["2019-10-15",38.554216867469876],["2019-09-26",37.49999999999999],["2019-09-17",39.743589743589745],["2019-08-30",38.8235294117647],["2019-08-15",41.860465116279066],["2019-07-29",44.57831325301204],["2019-06-28",43.74999999999999],["2019-05-30",48.05194805194805],["2019-04-26",55.69620253164557],["2019-04-22",59.25925925925925],["2019-03-26",59.03614457831324]]},{"name":"放言","type":"scatter","data":[["2019-12-26",28.750000000000004],["2019-11-28",31.08108108108108],["2019-10-16",39.24050632911392],["2019-09-25",42.68292682926829],["2019-08-19",46.34146341463414]]},{"name":"自由時報","type":"scatter","data":[["2019-12-25",20.547945205479447],["2019-12-11",20.833333333333332],["2019-11-27",26.027397260273972]]},{"name":"台灣民意基金會","type":"scatter","data":[["2019-12-24",25.609756097560975],["2019-11-19",29.54545454545454],["2019-10-22",35.22727272727273],["2019-10-22",39.285714285714285],["2019-09-19",36.14457831325301],["2019-08-24",39.53488372093023],["2019-07-22",47.05882352941176],["2019-05-19",45.97701149425288],["2019-04-21",54.65116279069767]]},{"name":"聯合報","type":"scatter","data":[["2019-12-14",27.848101265822788],["2019-12-07",25.974025974025977],["2019-11-16",35.36585365853659],["2019-11-16",33.333333333333336],["2019-10-26",41.66666666666667],["2019-09-21",42.30769230769231],["2019-09-09",42.85714285714286],["2019-07-29",50.0],["2019-07-01",53.08641975308641],["2019-05-20",53.658536585365844]]},{"name":"新台灣國策智庫","type":"scatter","data":[["2019-12-07",22.36842105263158]]},{"name":"寶島通訊","type":"scatter","data":[["2019-12-04",30.851063829787233],["2019-11-20",35.41666666666667]]},{"name":"台灣制憲基金會","type":"scatter","data":[["2019-11-28",27.160493827160497],["2019-08-07",37.80487804878048]]},{"name":"品觀點","type":"scatter","data":[["2019-11-26",33.333333333333336],["2019-11-26",36.36363636363637],["2019-11-19",34.72222222222222],["2019-11-19",37.3134328358209],["2019-11-12",37.87878787878788],["2019-11-05",40.909090909090914],["2019-10-29",38.46153846153846],["2019-10-22",41.1764705882353],["2019-10-15",40.298507462686565],["2019-10-02",39.39393939393939],["2019-09-24",38.46153846153846],["2019-09-18",42.1875],["2019-09-05",41.791044776119406],["2019-09-12",44.776119402985074],["2019-08-08",47.82608695652175],["2019-08-29",44.117647058823536],["2019-08-22",43.28358208955224],["2019-08-01",52.0],["2019-08-15",45.45454545454546],["2019-07-25",52.112676056338024],["2019-07-19",55.4054054054054]]},{"name":"台灣獨立建國聯盟","type":"scatter","data":[["2019-11-21",34.21052631578948]]},{"name":"旺旺中時","type":"scatter","data":[["2019-11-14",37.096774193548384],["2019-11-05",37.68115942028986],["2019-11-05",40.322580645161295],["2019-09-13",39.682539682539684],["2019-07-22",51.42857142857144],["2019-05-01",62.0253164556962]]},{"name":"台灣競爭力論壇","type":"scatter","data":[["2019-11-04",44.0],["2019-07-18",54.32098765432099]]},{"name":"風傳媒","type":"scatter","data":[["2019-10-29",40.625]]},{"name":"匯流新聞網","type":"scatter","data":[["2019-10-15",38.57142857142858],["2019-09-20",34.146341463414636],["2019-08-26",32.91139240506329]]},{"name":"天下雜誌","type":"scatter","data":[["2019-09-10",43.037974683544306]]},{"name":"鏡週刊","type":"scatter","data":[["2019-08-05",51.89873417721519]]},{"name":"優傳媒","type":"scatter","data":[["2019-07-08",46.15384615384615],["2019-07-01",42.66666666666667]]},{"name":"山水民調","type":"scatter","data":[["2019-07-08",51.68539325842697],["2019-05-22",54.76190476190476],["2019-05-16",54.76190476190476]]},{"name":"中華傳播學會","type":"scatter","data":[["2019-06-03",51.31578947368421]]},{"name":"匯流民調","type":"scatter","data":[["2019-06-28",45.97701149425288]]}];
    const companies = ["ETtoday新聞雲","TVBS","中華傳播學會","優傳媒","兩岸政策協會","匯流新聞網","匯流民調","台灣制憲基金會","台灣基進","台灣民意基金會","台灣獨立建國聯盟","台灣競爭力論壇","品觀點","天下雜誌","寶島通訊","山水民調","放言","新台灣國策智庫","旺旺中時","綠黨","美麗島電子報","聯合報","自由時報","蘋果日報","鏡週刊","震撼世代傳媒","風傳媒","投票結果"];

    for (let date = +new Date('2019-02-06'); date < +new Date('2020-01-01'); date += 3600 * 24 * 1000) {
      const now = new Date(date);
      const dayStr = [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('-');

      const delta_days = (date - new Date('2019-02-06')) / (3600 * 24 * 1000);
      const sigma = 8 * Math.pow(0.983990744427841, delta_days);
      const delta = 1.960 * (sigma / Math.sqrt(1000));
      const upper = 0.3861 + delta;
      const lower = 0.3861 - delta;
      upper > 1 ? sigma_upper.push([dayStr, 100]) : sigma_upper.push([dayStr, upper*100]);
      lower < 0 ? sigma_lower.push([dayStr, 0]) : sigma_lower.push([dayStr, lower*100]);
    }

    const option = {
      animation: true,
      title: {
        left: 'right',
        text: '民調可信分析（以韓國瑜爲例）',
      },
      legend: {
        top: 'bottom',
        data: ['理想誤差上限', '理想誤差下限', ...companies],
      },
      xAxis: {
        type: 'time',
        splitLine: {
          show: false
        }
      },
      yAxis: {
        type: 'value',
        axisLabel: {
          formatter: '{value} %'
        },
      },
      tooltip: {
        trigger: 'axis',
      },
      series: [
        {
          name: '理想誤差上限',
          type: 'line',
          smooth: true,
          showSymbol: false,
          data: sigma_upper,
        },
        {
          name: '理想誤差下限',
          type: 'line',
          smooth: true,
          showSymbol: false,
          data: sigma_lower,
        },
        ...raw,
      ],
      grid: {
        top: 110,
        left: 50,
        right: 15,
        height: 450
      },
    };

    var myChart = echarts.init(document.getElementById('chart'));
    myChart.setOption(option);
  </script>
</body>
</html>
