
<!DOCTYPE html>
<html lang="zh_tw">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/echarts@4.8.0/dist/echarts.min.js"></script>
  <title>2020 臺灣總統民調單位評級</title>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Radiat.io" type="application/atom+xml">
</head>
<body>
  <div id="chart" style="width: 100%; height: 750px;"></div>

  <script type="text/javascript">
    const sigma_upper = [];
    const sigma_lower = [];
    const raw = [{"name":"投票結果","type":"scatter","data":[["2020-01-11",57.57575757575757]]},{"name":"綠黨","type":"scatter","data":[["2019-12-30",67.5],["2019-12-24",65.43209876543212],["2019-12-17",66.66666666666666],["2019-12-10",64.00000000000001],["2019-12-03",66.66666666666666],["2019-11-26",57.831325301204814],["2019-11-20",57.14285714285715],["2019-11-11",51.85185185185185],["2019-11-11",59.25925925925925],["2019-11-05",56.09756097560976],["2019-11-05",61.24999999999999],["2019-10-29",50.0],["2019-10-29",57.89473684210527],["2019-10-23",61.038961038961034],["2019-10-08",61.72839506172839],["2019-10-01",60.97560975609756],["2019-09-24",58.536585365853654],["2019-09-17",60.493827160493815],["2019-09-04",58.74999999999999],["2019-09-13",57.831325301204814],["2019-08-07",54.32098765432099],["2019-08-28",58.02469135802468],["2019-08-22",56.9620253164557],["2019-08-15",55.69620253164557],["2019-07-31",53.08641975308641],["2019-07-02",57.95454545454546],["2019-07-24",52.439024390243894],["2019-07-17",53.84615384615385],["2019-06-20",58.97435897435898]]},{"name":"TVBS","type":"scatter","data":[["2019-12-29",55.55555555555556],["2019-12-14",57.47126436781609],["2019-12-04",58.620689655172406],["2019-11-29",54.117647058823536],["2019-11-15",50.0],["2019-11-15",49.42528735632184],["2019-11-07",48.91304347826087],["2019-11-07",55.0561797752809],["2019-10-23",57.14285714285714],["2019-09-27",56.81818181818182],["2019-09-03",54.44444444444445],["2019-09-12",53.846153846153854],["2019-08-09",48.38709677419356],["2019-08-19",52.80898876404495],["2019-07-18",47.82608695652174],["2019-06-24",58.139534883720934],["2019-05-01",39.53488372093023],["2019-05-10",43.18181818181818],["2019-04-26",39.285714285714285],["2019-02-20",31.645569620253163]]},{"name":"蘋果日報","type":"scatter","data":[["2019-12-29",69.56521739130434],["2019-12-22",68.65671641791043],["2019-12-15",67.14285714285715],["2019-12-08",70.42253521126761],["2019-12-01",67.10526315789474],["2019-11-24",60.0],["2019-11-17",58.333333333333336],["2019-11-10",55.4054054054054],["2019-11-10",62.31884057971014],["2019-11-03",55.4054054054054],["2019-11-03",62.68656716417911],["2019-10-27",59.70149253731343],["2019-10-20",64.51612903225808],["2019-10-14",62.121212121212125],["2019-10-06",60.29411764705882],["2019-09-29",57.74647887323944],["2019-09-22",57.89473684210527],["2019-09-09",57.692307692307686],["2019-09-02",58.108108108108105],["2019-08-05",51.38888888888889],["2019-08-26",54.16666666666667],["2019-08-19",55.263157894736835],["2019-08-12",52.054794520547944],["2019-07-09",44.73684210526316],["2019-07-30",48.61111111111111],["2019-07-02",44.0],["2019-07-23",49.333333333333336],["2019-07-16",42.25352112676056],["2019-06-25",51.28205128205129],["2019-06-18",50.0],["2019-05-27",43.74999999999999],["2019-05-21",48.717948717948715],["2019-05-11",46.835443037974684],["2019-02-16",38.8235294117647]]},{"name":"兩岸政策協會","type":"scatter","data":[["2019-12-28",64.28571428571429],["2019-12-15",67.46987951807229],["2019-11-24",58.823529411764696],["2019-11-08",56.470588235294116],["2019-11-08",62.35294117647059],["2019-10-20",59.523809523809526],["2019-09-12",60.24096385542168],["2019-08-16",60.256410256410255],["2019-07-16",53.57142857142857]]},{"name":"台灣基進","type":"scatter","data":[["2019-12-28",65.15151515151516]]},{"name":"震撼世代傳媒","type":"scatter","data":[["2019-12-27",66.21621621621621],["2019-12-13",65.75342465753424],["2019-11-25",58.536585365853654]]},{"name":"ETtoday新聞雲","type":"scatter","data":[["2019-12-27",59.25925925925925],["2019-12-08",59.74025974025974],["2019-11-25",53.01204819277109],["2019-11-07",52.439024390243894],["2019-11-07",57.692307692307686],["2019-10-27",51.31578947368421],["2019-10-27",55.99999999999999],["2019-09-29",56.57894736842105],["2019-09-12",61.42857142857143],["2019-08-29",56.33802816901409],["2019-08-10",53.62318840579711],["2019-07-31",50.64935064935065],["2019-07-19",53.246753246753244],["2019-05-30",45.94594594594595],["2019-05-16",43.42105263157895]]},{"name":"美麗島電子報","type":"scatter","data":[["2019-12-26",61.53846153846154],["2019-12-17",63.01369863013699],["2019-12-06",68.91891891891892],["2019-11-26",64.55696202531645],["2019-11-12",51.948051948051955],["2019-11-12",61.24999999999999],["2019-10-25",54.545454545454554],["2019-10-25",61.038961038961034],["2019-10-15",56.09756097560976],["2019-10-15",61.44578313253012],["2019-09-26",62.5],["2019-09-17",60.256410256410255],["2019-08-30",61.17647058823529],["2019-08-15",58.139534883720934],["2019-07-29",55.42168674698795],["2019-06-28",56.25],["2019-05-30",51.948051948051955],["2019-04-26",44.303797468354425],["2019-04-22",40.74074074074074],["2019-03-26",40.963855421686745]]},{"name":"放言","type":"scatter","data":[["2019-12-26",60.0],["2019-11-28",59.45945945945946],["2019-10-16",60.759493670886066],["2019-09-25",57.3170731707317],["2019-08-19",53.658536585365844]]},{"name":"自由時報","type":"scatter","data":[["2019-12-25",73.97260273972603],["2019-12-11",73.6111111111111],["2019-11-27",67.12328767123287]]},{"name":"台灣民意基金會","type":"scatter","data":[["2019-12-24",63.41463414634146],["2019-11-19",62.5],["2019-10-22",52.27272727272727],["2019-10-22",60.71428571428571],["2019-09-19",63.85542168674698],["2019-08-24",60.46511627906976],["2019-07-22",52.94117647058824],["2019-05-19",54.02298850574713],["2019-04-21",45.34883720930233]]},{"name":"聯合報","type":"scatter","data":[["2019-12-14",60.75949367088608],["2019-12-07",62.337662337662344],["2019-11-16",54.87804878048781],["2019-11-16",53.086419753086425],["2019-10-26",58.333333333333336],["2019-09-21",57.692307692307686],["2019-09-09",57.14285714285714],["2019-07-29",50.0],["2019-07-01",46.913580246913575],["2019-05-20",46.34146341463414]]},{"name":"新台灣國策智庫","type":"scatter","data":[["2019-12-07",65.78947368421053]]},{"name":"寶島通訊","type":"scatter","data":[["2019-12-04",61.702127659574465],["2019-11-20",54.166666666666664]]},{"name":"台灣制憲基金會","type":"scatter","data":[["2019-11-28",61.728395061728406],["2019-08-07",62.19512195121951]]},{"name":"品觀點","type":"scatter","data":[["2019-11-26",57.97101449275364],["2019-11-26",63.63636363636365],["2019-11-19",56.94444444444444],["2019-11-19",62.68656716417911],["2019-11-12",62.121212121212125],["2019-11-05",59.09090909090909],["2019-10-29",61.53846153846154],["2019-10-22",58.82352941176471],["2019-10-15",59.70149253731343],["2019-10-02",60.60606060606061],["2019-09-24",61.53846153846154],["2019-09-18",57.8125],["2019-09-05",58.2089552238806],["2019-09-12",55.223880597014926],["2019-08-08",52.17391304347826],["2019-08-29",55.88235294117647],["2019-08-22",56.71641791044777],["2019-08-01",48.0],["2019-08-15",54.545454545454554],["2019-07-25",47.88732394366198],["2019-07-19",44.5945945945946]]},{"name":"台灣獨立建國聯盟","type":"scatter","data":[["2019-11-21",53.94736842105263]]},{"name":"旺旺中時","type":"scatter","data":[["2019-11-14",54.83870967741935],["2019-11-05",52.17391304347826],["2019-11-05",59.67741935483871],["2019-09-13",60.317460317460316],["2019-07-22",48.57142857142858],["2019-05-01",37.974683544303794]]},{"name":"台灣競爭力論壇","type":"scatter","data":[["2019-11-04",55.99999999999999],["2019-07-18",45.67901234567901]]},{"name":"風傳媒","type":"scatter","data":[["2019-10-29",59.375]]},{"name":"匯流民調","type":"scatter","data":[["2019-10-15",61.42857142857143],["2019-09-20",65.85365853658537],["2019-08-26",67.08860759493672],["2019-06-28",54.02298850574713]]},{"name":"天下雜誌","type":"scatter","data":[["2019-09-10",56.9620253164557]]},{"name":"鏡週刊","type":"scatter","data":[["2019-08-05",48.10126582278481]]},{"name":"優傳媒","type":"scatter","data":[["2019-07-08",53.84615384615385],["2019-07-01",57.333333333333336]]},{"name":"山水民調","type":"scatter","data":[["2019-07-08",48.31460674157303],["2019-05-22",45.238095238095234],["2019-05-16",45.238095238095234]]},{"name":"中華傳播學會","type":"scatter","data":[["2019-06-03",48.68421052631579]]}];
    const companies = ["ETtoday新聞雲","TVBS","中華傳播學會","優傳媒","兩岸政策協會","匯流民調","台灣制憲基金會","台灣基進","台灣民意基金會","台灣獨立建國聯盟","台灣競爭力論壇","品觀點","天下雜誌","寶島通訊","山水民調","放言","新台灣國策智庫","旺旺中時","綠黨","美麗島電子報","聯合報","自由時報","蘋果日報","鏡週刊","震撼世代傳媒","風傳媒","投票結果"];

    for (let date = +new Date('2019-02-06'); date < +new Date('2020-01-01'); date += 3600 * 24 * 1000) {
      const now = new Date(date);
      const dayStr = [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('-');

      const delta_days = (date - new Date('2019-02-06')) / (3600 * 24 * 1000);
      const sigma = 8 * Math.pow(0.983990744427841, delta_days);
      const delta = 1.960 * (sigma / Math.sqrt(1000));
      const upper = 0.5713 + delta;
      const lower = 0.5713 - delta;
      upper > 1 ? sigma_upper.push([dayStr, 100]) : sigma_upper.push([dayStr, upper*100]);
      lower < 0 ? sigma_lower.push([dayStr, 0]) : sigma_lower.push([dayStr, lower*100]);
    }

    const option = {
      animation: true,
      title: {
        left: 'right',
        text: '民調可信分析（以蔡英文爲例）',
      },
      legend: {
        top: 'bottom',
        data: ['理想誤差上限', '理想誤差下限', ...companies],
      },
      xAxis: {
        type: 'time',
        splitLine: {
          show: false
        }
      },
      yAxis: {
        type: 'value',
        axisLabel: {
          formatter: '{value} %'
        },
      },
      tooltip: {
        trigger: 'axis',
      },
      series: [
        {
          name: '理想誤差上限',
          type: 'line',
          smooth: true,
          showSymbol: false,
          data: sigma_upper,
        },
        {
          name: '理想誤差下限',
          type: 'line',
          smooth: true,
          showSymbol: false,
          data: sigma_lower,
        },
        ...raw,
      ],
      grid: {
        top: 110,
        left: 50,
        right: 15,
        height: 450
      },
    };

    var myChart = echarts.init(document.getElementById('chart'));
    myChart.setOption(option);
  </script>
</body>
</html>
